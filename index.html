<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>HiQGA Documentation · HiQGA - High Quality Geophysical Analysis</title><meta name="title" content="HiQGA Documentation · HiQGA - High Quality Geophysical Analysis"/><meta property="og:title" content="HiQGA Documentation · HiQGA - High Quality Geophysical Analysis"/><meta property="twitter:title" content="HiQGA Documentation · HiQGA - High Quality Geophysical Analysis"/><meta name="description" content="Documentation for HiQGA - High Quality Geophysical Analysis."/><meta property="og:description" content="Documentation for HiQGA - High Quality Geophysical Analysis."/><meta property="twitter:description" content="Documentation for HiQGA - High Quality Geophysical Analysis."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>HiQGA - High Quality Geophysical Analysis</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>HiQGA Documentation</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Usage"><span>Usage</span></a></li><li><a class="tocitem" href="#Updating-the-package"><span>Updating the package</span></a></li><li><a class="tocitem" href="#Developing-HiQGA-or-modifying-it-for-your-own-special-forward-physics"><span>Developing HiQGA or modifying it for your own special forward physics</span></a></li><li><a class="tocitem" href="#HPC-setup-on-NCI"><span>HPC setup on NCI</span></a></li><li><a class="tocitem" href="#For-installing-development-mode-pre-release-versions"><span>For installing development mode pre-release versions</span></a></li><li><a class="tocitem" href="#References-for-AEM-and-CSEM-physics"><span>References for AEM and CSEM physics</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>HiQGA Documentation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>HiQGA Documentation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/GeoscienceAustralia/HiQGA.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/GeoscienceAustralia/HiQGA.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="HiQGA-Documentation"><a class="docs-heading-anchor" href="#HiQGA-Documentation">HiQGA Documentation</a><a id="HiQGA-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#HiQGA-Documentation" title="Permalink"></a></h1><p>This is a general purpose package for spatial statistical inference, geophysical forward modeling, Bayesian inference and inversion (both determinstic and probabilistic).</p><p>Readily usable geophysical forward operators are to do with AEM, CSEM and MT physics (references underneath), <strong>for which the time domain AEM codes are fairly production-ready</strong>. The current EM modeling is in 1D, but the inversion framework is dimensionally agnostic (e.g., you e regress images). Adding your own geophysical operators is easy, keep reading <a href="#Developing-HiQGA-or-modifying-it-for-your-own-special-forward-physics">down here</a>.</p><p>This package implements both the nested (2-layer) and vanilla trans-dimensional Gaussian process algorithm as published in </p><ul><li><a href="https://doi.org/10.1093/gji/ggad337"><em>An information theoretic Bayesian uncertainty analysis of AEM systems over Menindee Lakes, Australia</em>. A.Ray, A-Y. Ley-Cooper, R.C. Brodie, R. Taylor, N. Symington, N. F. Moghaddam, Geophysical Journal International, 235(2)., 2023</a>.</li><li><a href="https://doi.org/10.1093/gji/ggab114"><em>Bayesian inversion using nested trans-dimensional Gaussian processes</em>, A. Ray, Geophysical Journal International, <strong>226(1)</strong>, 2021</a>.</li><li><a href="https://doi.org/10.1093/gji/ggz111"><em>Bayesian geophysical inversion with trans-dimensional Gaussian process machine learning</em>, A. Ray and D. Myer, Geophysical Journal International <strong>217(3)</strong>, 2019</a>.</li><li>There is also a flavour of within-bounds Gauss-Newton/Occam&#39;s inversion implemented. For SkyTEM, TEMPEST and VTEM (all AEM), this is fully functional, but for other forward propagators you will have to provide a Jacobian (the linearization of the forward operator).</li></ul><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>Download Julia from <a href="https://julialang.org/downloads/">here</a> and install the binary. HPC users e.g., on the <a href="https://nci.org.au/">NCI</a> look <a href="#hpc-setup-on-nci">here, below in the document</a> to set up MPI on a cluster for large jobs, or if you do not have Julia installed on your cluster.</p><p>Once you have started julia, to install HiQGA, use Julia&#39;s <code>Pkg</code> REPL by hitting <code>]</code> to enter <code>pkg&gt;</code> mode within Julia like so: </p><pre><code class="nohighlight hljs">julia&gt;]
(@v1.10) pkg&gt;</code></pre><p>Then enter the following, at the <code>pkg&gt;</code> prompt:</p><pre><code class="nohighlight hljs">pkg&gt; add HiQGA </code></pre><p>If installing to <a href="https://www.youtube.com/watch?v=edgzr8vpCKY&amp;list=PL0jP_ahe-BFmRWx6IT9G2zbFHA6qmJ52f&amp;index=6">follow along</a> for the 2022 AEM <a href="https://github.com/GeoscienceAustralia/HiQGA.jl/tree/workshop">workshop branch</a> use instead of the above <code>pkg&gt; add HiQGA@0.2.2</code></p><h2 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h2><p>Examples of how to use the package can be found in the <code>examples</code> directory. Simply <code>cd</code> to the relevant example directory and <code>include</code> the .<code>jl</code> files in the order they are named. If using VSCode make sure to do <em>Julia: Change to this Directory</em> from the three dots menu on the top right. The Markov Chain Monte Carlo sampler is configured to support parallel tempering on multiple CPUs - some of the examples accomplish this with Julia&#39;s built-in multiprocessing, and others use MPI in order to support inversions on HPC clusters that don&#39;t work with Julia&#39;s default SSH-based multiprocessing. The MPI examples require <a href="https://github.com/JuliaParallel/MPI.jl">MPI.jl</a> and <a href="https://github.com/JuliaParallel/MPIClusterManagers.jl/">MPIClusterManagers.jl</a>, which are not installed as dependencies for this package, so you will need to ensure they are installed and configured correctly to run these examples. See <a href="#installing-mpijl-and-mpiclustermanagersjl-on-nci">here, below in the document</a> for MPI on the NCI.</p><p>Some example scripts have as a dependency <a href="https://github.com/timholy/Revise.jl">Revise.jl</a> as we&#39;re still actively <a href="https://pkgdocs.julialang.org/v1/getting-started/">developing this package</a>, so you may need to install <a href="https://github.com/timholy/Revise.jl">Revise</a> if not already installed. All Julia users should be developing with <a href="https://github.com/timholy/Revise.jl">Revise</a>! After installation, to run the examples, simply clone the package separately (or download as a ZIP), navigate to the <code>examples</code> folder and run the scripts in their numerical order.</p><h2 id="Updating-the-package"><a class="docs-heading-anchor" href="#Updating-the-package">Updating the package</a><a id="Updating-the-package-1"></a><a class="docs-heading-anchor-permalink" href="#Updating-the-package" title="Permalink"></a></h2><pre><code class="nohighlight hljs">pkg&gt; update HiQGA</code></pre><h2 id="Developing-HiQGA-or-modifying-it-for-your-own-special-forward-physics"><a class="docs-heading-anchor" href="#Developing-HiQGA-or-modifying-it-for-your-own-special-forward-physics">Developing HiQGA or modifying it for your own special forward physics</a><a id="Developing-HiQGA-or-modifying-it-for-your-own-special-forward-physics-1"></a><a class="docs-heading-anchor-permalink" href="#Developing-HiQGA-or-modifying-it-for-your-own-special-forward-physics" title="Permalink"></a></h2><p>After you have <code>]add</code>ed HiQGA you can simply do: </p><pre><code class="nohighlight hljs">pkg&gt;dev HiQGA</code></pre><p>If you haven&#39;t added it already, you can do:</p><pre><code class="nohighlight hljs">pkg&gt;dev https://github.com/GeoscienceAustralia/HiQGA.jl.git</code></pre><p>It will download to your <code>JULIA_PKG_DEVDIR</code>. </p><p>Another way is to simply clone or download this repository to your <code>JULIA_PKG_DEVDIR</code>, rename the cloned directory <code>HiQGA</code> removing the <code>.jl</code> bit and do</p><pre><code class="nohighlight hljs">pkg&gt;dev HiQGA</code></pre><p><a href="https://gist.github.com/a2ray/8c2c55c25fee6647501b403886bbe64d">Here&#39;s a gist</a> on adding your own module if you want to modify the source code. Alternatively, if you only want to use the sampling methods in <code>HiQGA.transD_GP</code> without contributing to the source (boo! j/k) <a href="https://gist.github.com/a2ray/92a8c14483c21dda6ddf56685b95fbb8">here&#39;s another gist</a> which is more appropriate. These gists were written originally for a package called <code>transD_GP</code> so you will have to modify <code>using transD_GP</code> to <code>using HiQGA.transD_GP</code>. Documentation is important and we&#39;re working on improving it before a full-release. </p><h2 id="HPC-setup-on-NCI"><a class="docs-heading-anchor" href="#HPC-setup-on-NCI">HPC setup on NCI</a><a id="HPC-setup-on-NCI-1"></a><a class="docs-heading-anchor-permalink" href="#HPC-setup-on-NCI" title="Permalink"></a></h2><p>If you don&#39;t already have access to a <code>julia</code> binary, download the appropriate version <code>.tar.gz</code> from <a href="https://julialang.org/downloads/">here</a> and then untar it in a location you have write access to, like so: </p><pre><code class="nohighlight hljs">cd /somwehere/home/me
tar -xvzf /somwehere/home/me/julia-x.x.x.tar.gz</code></pre><p>Then, in your <code>$HOME/bin</code> directory make a symlink to the julia binary like so:</p><pre><code class="nohighlight hljs">cd ~/bin
ln -s /somwehere/home/me/julia-x.x.x/bin/julia .</code></pre><p>Make sure your <code>$HOME/bin</code> is in your <code>$PATH</code> else which you can check with <code>echo $PATH | grep &quot;$HOME/bin&quot;</code>. If you do not see your <code>bin</code> directory highlighted, do <code>export PATH=~/bin:$PATH</code> The preferred development and usage environment for HiQGA is <a href="https://code.visualstudio.com/">Visual Studio Code</a>, which provides interactive execution of Julia code through the <a href="https://code.visualstudio.com/docs/languages/julia">VSCode Julia extension</a>. To install VSCode on the National Computational Infrastructure (NCI), you need to extract the VSCode rpm package using the steps in <a href="https://gist.github.com/a2ray/701347f703b72abb630d2521b43c5f22">this gist</a>, to a location where your account has write access. You will NOT be using vscode on a gadi login node, but on OOD.</p><p>Get Julia language support from VSCode after launching the VSCode binary by going to File-&gt;Extensions by searching for Julia. If after installation it doesn&#39;t find the Julia binary, go to File-&gt;Extensions-&gt;Julia-&gt;Manage (the little gear icon) and manually type in <code>/home/yourusername/bin/julia</code> in the &quot;Executable Path&quot; field.</p><p>It is also useful to use Revise.jl to ensure changes to the package are immediately reflected in a running Julia REPL (this is the reason that Revise is a dependency on some example scripts as noted above). More information on a workflow to use Revise during development can be found <a href="https://gist.github.com/a2ray/e593751b24e45f8160ba8041fb811680">here</a>.</p><p>As <a href="#installation">shown above</a>, to install HiQGA, start Julia and go into the <code>Pkg</code> REPL by hitting <code>]</code> to enter <code>pkg&gt;</code> mode like so: </p><pre><code class="nohighlight hljs">julia&gt;]
(@v1.10) pkg&gt;</code></pre><p>Then enter the following, at the <code>pkg&gt;</code> prompt:</p><pre><code class="nohighlight hljs">pkg&gt; add HiQGA </code></pre><h3 id="Installing-MPI.jl-and-MPIClusterManagers.jl-on-NCI"><a class="docs-heading-anchor" href="#Installing-MPI.jl-and-MPIClusterManagers.jl-on-NCI">Installing MPI.jl and MPIClusterManagers.jl on NCI</a><a id="Installing-MPI.jl-and-MPIClusterManagers.jl-on-NCI-1"></a><a class="docs-heading-anchor-permalink" href="#Installing-MPI.jl-and-MPIClusterManagers.jl-on-NCI" title="Permalink"></a></h3><p>We have found that the safest bet for MPI.jl to work without <a href="https://docs.juliahub.com/MPI/nO0XF/0.19.2/knownissues/#UCX">UCX issues</a> on NCI is to use intel-mpi. In order to install MPI.jl and configure it to  use the intel-mpi provided by the module <code>intel-mpi/2021.10.0</code>, following the example below. </p><pre><code class="nohighlight hljs">$ module load intel-mpi/2021.10.0
$ julia

julia &gt; ] 
pkg&gt; add MPIPreferences
   Resolving package versions...
   Installed MPIPreferences ─ v0.1.7
    Updating `/g/data/up99/admin/yxs900/cr78_depot/environments/v1.7/Project.toml`
  [3da0fdf6] + MPIPreferences v0.1.7
    Updating `/g/data/up99/admin/yxs900/cr78_depot/environments/v1.7/Manifest.toml`
  [3da0fdf6] + MPIPreferences v0.1.7
Precompiling project...
  1 dependency successfully precompiled in 2 seconds (213 already precompiled)

julia &gt; using MPIPreferences

julia&gt; MPIPreferences.use_system_binary(;library_names=[&quot;/apps/intel-mpi/2021.10.0/lib/release/libmpi.so&quot;],mpiexec=&quot;mpiexec&quot;,abi=&quot;MPICH&quot;,export_prefs=true,force=true)
[Info: MPIPreferences changed
|   binary = &quot;system&quot;
|   libmpi = &quot;/apps/intel-mpi/2021.10.0/lib/release/libmpi.so&quot;
|   abi = &quot;MPICH&quot;
|   mpiexec = &quot;mpiexec&quot;
|   preloads = Any[]
[   preloads_env_switch = nothing

julia&gt; exit()</code></pre><p>Once the configuration is completed, install MPI.jl and MPIClusterManagers.jl in a restarted Julia session. We had errors with other versions of MPI.jl besides v0.19.2 on NCI, maybe not an issue elsewhere.</p><pre><code class="nohighlight hljs">pkg&gt;add MPI@0.19.2, MPIClusterManagers, Distributed
Resolving package versions...
  No Changes to `~/.julia/environments/v1.9/Project.toml`
  No Changes to `~/.julia/environments/v1.9/Manifest.toml`
Precompiling project...
  4 dependencies successfully precompiled in 5 seconds. 225 already precompiled.</code></pre><p>Just to be safe, ensure that MPI has indeed built wth the version you have specified above:</p><pre><code class="nohighlight hljs">julia&gt; using MPI

julia&gt; MPI.MPI_VERSION
v&quot;3.1.0&quot;

julia&gt; MPI.MPI_LIBRARY
IntelMPI::MPIImpl = 4

julia&gt; MPI.MPI_LIBRARY_VERSION
v&quot;2021.0.0&quot;

julia&gt; MPI.identify_implementation()
(MPI.IntelMPI, v&quot;2021.0.0&quot;)
</code></pre><p>To test, use an interactive NCI job with the following submission:</p><pre><code class="nohighlight hljs">qsub -I -lwalltime=1:00:00,mem=16GB,ncpus=4,storage=gdata/z67+gdata/cr78
.
.
.
job is ready</code></pre><p>now create a file called <code>mpitest.jl</code> with the following lines on some mount you have access to:</p><pre><code class="nohighlight hljs">## MPI Init
using MPIClusterManagers, Distributed
import MPI
MPI.Init()
rank = MPI.Comm_rank(MPI.COMM_WORLD)
sz = MPI.Comm_size(MPI.COMM_WORLD)
if rank == 0
    @info &quot;size is $sz&quot;
end
manager = MPIClusterManagers.start_main_loop(MPI_TRANSPORT_ALL)
@info &quot;there are $(nworkers()) workers&quot;
MPIClusterManagers.stop_main_loop(manager)
rmprocs(workers())
exit()</code></pre><p>Run the code after loading the intel-mpi module you have linked MPI.jl against with </p><pre><code class="nohighlight hljs">module load intel-mpi/2021.10.0
mpirun -np 3 julia mpitest.jl</code></pre><p>and you should see output like:</p><pre><code class="nohighlight hljs">[ Info: size is 3
[ Info: there are 2 workers</code></pre><p>This is the basic recipe for all the cluster HiQGA jobs on NCI. After the call to <code>manager = MPIClusterManagers.start_main_loop(MPI_TRANSPORT_ALL)</code>, standard MPI execution stops, and we return to an explicit manager-worker mode with code execution only continuing on the manager which is Julia process 1.</p><p>The next time you start julia you have HiQGA ready for use with</p><pre><code class="nohighlight hljs">julia&gt; using HiQGA</code></pre><p>navigate to the <a href="https://github.com/GeoscienceAustralia/HiQGA.jl/tree/master/examples">examples</a> folder to run some example scripts. <strong>You can end here as a regular user, however for development mode see below.</strong></p><h3 id="MPI-or-parallel-considerations-for-number-of-CPUs"><a class="docs-heading-anchor" href="#MPI-or-parallel-considerations-for-number-of-CPUs">MPI or parallel considerations for number of CPUs</a><a id="MPI-or-parallel-considerations-for-number-of-CPUs-1"></a><a class="docs-heading-anchor-permalink" href="#MPI-or-parallel-considerations-for-number-of-CPUs" title="Permalink"></a></h3><p>For the deterministic AEM inversions, you can do as many inversions in parallel as you have worker nodes. With McMC though, and the parallel tempering, it is a little more complicated. First of all, if you have a node with 48 CPUs (i.e., ppn=48), it is best to keep an integer number of soundings within a node. Helicopter systems typically need 5 chains per sounding (or, 1 manager + 5 workers = 6 CPUs/sounding) and fixed wing systems need 7 chains per sounding (or, 1 manager + 7 workers = 8 CPUs/sounding) as the likelihood for Tx-Rx geometry misfits can be a little rugose. Secondly, the variable <code>nchainspersounding+1</code> must exactly divide the total number of available CPU <strong>workers</strong> when using the function <code>loopacrossAEMsoundings</code>. From any numberof cpus total provided to HiQGA, processes <code>1</code> through <code>1+nchainspersounding</code> are reserved for memory purposes on for massive production jobs. Therefore, to see what works, try running the following before submitting or starting a parallel job:</p><pre><code class="language-julia hljs">using HiQGA
# say there are 24 CPUs on a large compute box you can use
# say you&#39;ve done this with an addprocs(23), then for 3 soundings and a helicopter system,
transD_GP.splittasks(;nsoundings=3, ncores=23, nchainspersounding=5, ppn=24)</code></pre><p>You will get</p><pre><code class="language-julia hljs">[ Info: will require 1 iterations of 3 soundings in one iteration</code></pre><p>Say for an actual MPI job where you have a thousands of cores for a fixed wing system, say <code>ppn=104</code> and you have 10 nodes available with 1040 cpus. Run this before starting, to see how many iterations it will take to do 800 soundings.</p><pre><code class="language-julia hljs">using HiQGA
transD_GP.splittasks(;nsoundings=800, ncores=1039, nchainspersounding=7, ppn=104)
[ Info: will require 7 iterations of 129 soundings in one iteration</code></pre><p>You can also violate the stay within a node principle if you have a cluster that does efficient message passing, like this. Say you have an actual <code>ppn=104</code> as in the case of the NCI Sandy Rapids nodes. Then for 12 nodes = 104*12 = 1248 CPUs, we ensure this total number is divisible by the <code>ppn</code> we are providing HiQGA. Say this is 48, a nice number for helicopter systems since 48/(5+1) is an integer. We can fool HiQGA into thinking we are staying within nodes of 48 CPUs as it only uses the <code>ppn</code> value we provide it. We can request 1248 CPUs through <code>PBS</code> and a <code>qsub</code> script but check our input first like so:</p><pre><code class="language-julia hljs">transD_GP.splittasks(;nsoundings=1211, ncores=1247, nchainspersounding=5, ppn=48)
[ Info: will require 6 iterations of 207 soundings in one iteration</code></pre><p><a href="https://github.com/GeoscienceAustralia/HiQGA.jl/blob/a8b258d6cef23be7423c9e8652ea0926af28f448/ASEG_Hobart_Workshop_2024/UDF_probabilistic/submit.sh">Here</a> is an example of a massive job qsub submit script.</p><h3 id="Troubleshooting-MPI-set-up"><a class="docs-heading-anchor" href="#Troubleshooting-MPI-set-up">Troubleshooting MPI set up</a><a id="Troubleshooting-MPI-set-up-1"></a><a class="docs-heading-anchor-permalink" href="#Troubleshooting-MPI-set-up" title="Permalink"></a></h3><p>Some folks have reported that the above MPI install provides error messages to the order of &quot;You are using the system provided MPI&quot;, indicating that it is not Intel MPI 2021.10.0 that they are working with. In this case, you should exit Julia, then edit <code>~/.julia/prefs/MPI.toml</code> adding in the following lines</p><pre><code class="nohighlight hljs">path = &quot;/apps/intel-mpi/2021.10.0&quot;
library = &quot;/apps/intel-mpi/2021.10.0/lib/release/libmpi.so&quot;
binary = &quot;system&quot;</code></pre><p>then go back to Julia in Pkg mode, making sure the intel-mpi module is loaded in BASH and build again MPI.jl</p><pre><code class="nohighlight hljs">module load intel-mpi/2021.10.0
julia</code></pre><p>Within Julia, you can then do </p><pre><code class="nohighlight hljs"># hit ] to enter Pkg mode
pkg&gt;build MPI</code></pre><p>and this should work.</p><h2 id="For-installing-development-mode-pre-release-versions"><a class="docs-heading-anchor" href="#For-installing-development-mode-pre-release-versions">For installing development mode pre-release versions</a><a id="For-installing-development-mode-pre-release-versions-1"></a><a class="docs-heading-anchor-permalink" href="#For-installing-development-mode-pre-release-versions" title="Permalink"></a></h2><pre><code class="nohighlight hljs">pkg&gt; dev HiQGA</code></pre><p><strong>Make a pull request if you wish to submit your change – we welcome feature additions</strong>. If you want to switch back to the official version from development mode, do</p><pre><code class="nohighlight hljs">pkg&gt; free HiQGA</code></pre><h2 id="References-for-AEM-and-CSEM-physics"><a class="docs-heading-anchor" href="#References-for-AEM-and-CSEM-physics">References for AEM and CSEM physics</a><a id="References-for-AEM-and-CSEM-physics-1"></a><a class="docs-heading-anchor-permalink" href="#References-for-AEM-and-CSEM-physics" title="Permalink"></a></h2><ul><li><a href="https://doi.org/10.1093/gji/ggy255">Blatter, D., Key, K., Ray, A., Foley, N., Tulaczyk, S., &amp; Auken, E. (2018). Trans-dimensional Bayesian inversion of airborne transient EM data from Taylor Glacier, Antarctica. Geophysical Journal International, 214(3)</a></li><li><a href="https://openresearch-repository.anu.edu.au/bitstream/1885/49403/4/02Whole.pdf">Brodie, R. C. (2010). Holistic inversion of airborne electromagnetic data. PhD thesis, Australian National University</a>.</li><li><a href="https://doi.org/10.1111/j.1365-246X.2012.05677.x">Ray, A., &amp; Key, K. (2012). Bayesian inversion of marine CSEM data with a trans-dimensional self parametrizing algorithm. Geophysical Journal International, 191(3), 1135-1151.</a></li></ul></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.9.0 on <span class="colophon-date" title="Thursday 27 March 2025 09:19">Thursday 27 March 2025</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
